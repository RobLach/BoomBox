<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Zoidcom: Test Run With Communication</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
  <script language="JavaScript">
    <!--
    var Img = new Array()
    function doc_image(dateiname)
    {
      this.normal     = new Image()
      this.high       = new Image()
      this.normal.src = dateiname + ".png"
      this.high.src   = dateiname + "h.png"
      return this
    }
    function load_images(name, dateiname)
    {
      Img[name] = new doc_image(dateiname)
    }
    function show_image(name)
    {
      document[name].src = Img[name].high.src
    }
    function hide_image(name)
    {
      document[name].src = Img[name].normal.src
    }
    load_images("Intro", "intro");
    load_images("Overview", "overview");
    load_images("Manual", "manual");
    load_images("Classes", "classref");
    load_images("Headers", "headref");
   -->
   </script>
</head><body>
	      <center>
        <table width="100%" border="0" cellspacing="0" cellpadding="0" height="50">
        <tr height="50">
          <td width="42" height="50" background="headleft.png"></td>
          <td align="center" height="50" background="headback.png"><img src="headcenter.png" alt=""
              height="50" width="582"></td>
          <td width="42" height="50" background="headright.png"></td>
        </tr>
        <tr>
          <td colspan="3" align="center">
            <table width="212" border="0" cellspacing="0" cellpadding="0" align="center">
              <tr>
                <td><img src="linkleft.png" alt="" height="16" width="16" border="0"></td>
                <td><a href="index.html" onMouseOver="show_image('Intro')" onMouseOut="hide_image('Intro')"><img name="Intro" src="intro.png" alt="Introduction" height="16" width="108" border="0"></a></td>
                <td><a href="Manual.html" onMouseOver="show_image('Manual')" onMouseOut="hide_image('Manual')"><img name="Manual" src="manual.png" alt="Manual" height="16" width="108" border="0"></a></td>
                <td><a href="annotated.html" onMouseOver="show_image('Classes')"                         onMouseOut="hide_image('Classes')"><img name="Classes" src="classref.png" alt="Class Reference" height="16" width="108" border="0"></a></td>
                <td><a href="files.html" onMouseOver="show_image('Headers')"                                 onMouseOut="hide_image('Headers')"><img name="Headers" src="headref.png" alt="Header Reference" height="16" width="108" border="0"></a></td>
                <td><img src="linkright.png" alt="" height="16" width="16" border="0"></td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
    </center>
    
    
    
<!-- Generated by Doxygen 1.4.6-NO -->
<h1><a class="anchor" name="Testrun2">Test Run With Communication</a></h1><h2><a class="anchor" name="clisrvtestrun">
Program Output</a></h2>
The lines starting with [Client] and [Server] are log messages generated by Zoidcom. The lines embraced in &lt; &gt; are comments inserted after the run.<h3><a class="anchor" name="testrunsrv2">
Server</a></h3>
<div class="fragment"><pre class="fragment">&lt;...&gt;
Processing input...
Processing output...
Processing input...
Processing output...
Processing input...
&lt;Here the connection packet is detected&gt;
[Server]: inserting node of class [ZC0M]
[Server]: incoming connection request from UDP: 127.0.0.1:33009 (control id: 0)
A client requested connection - the new id is [1].
Connection Accepted.
Processing output...
&lt;The connection result is sent back&gt;
[Server]: new outgoing bandwidth for 1: 200 bpp / 15 pps
Processing input...
&lt;The client's request is received&gt;
New connection with id [1]
The client requested our message 9 number of times.
Sending #1
Sending #2
Sending #3
Sending #4
Sending #5
Sending #6
Sending #7
Sending #8
Sending #9
Processing output...
&lt;The messages are sent here&gt;
&lt;CTRL+C&gt;
</pre></div><p>
Notice this line: <div class="fragment"><pre class="fragment">[Server]: new outgoing bandwidth for 1: 200 bpp / 15 pps
</pre></div><p>
It states, that the server will send no more than 15 packets per second.<h3><a class="anchor" name="testruncli2">
Client</a></h3>
When reading carefully, you'll notice that not all 9 messages are received at the same time. The first 8 are received in one packet, the last one is received in a later packet. The server doesn't send a packet each time it calls ZCom_processOutput(). When you look at the comments to the client output, you will see that the server sets the connection quality to 15 packets per seconds. The mainloop in the client runs far faster than 15 iterations per second, that's why there are a lot of eventless iterations between the receival of the first 8 and the last message.<p>
<div class="fragment"><pre class="fragment">Connecting...
&lt;Connection process starts here&gt;
[Client/1]: connecting to UDP: localhost:10000 (control id: 0)
Processing input...
Processing output...
&lt;Zoidcom resolved the hostname&gt;
ZCom_Address: resolved hostname 'localhost' to 127.0.0.1
Processing input...
Processing output...
&lt;Zoidcom sends the connection request&gt;
[Client]: inserting node of class [ZC0M]
Processing input...
Processing output...
Processing input...
&lt;Zoidcom receives the connection result&gt;
[Client/1]: peer accepted connection request
Connection established. The reply was: Password Correct.
Requesting 9 strings...
Processing output...
&lt;The request is sent here&gt;
Processing input...
&lt;Zoidcom server requested connection parameters, handled internally&gt;
[Client/1]: peer requested new connection quality: 200 bpp/15 pps
Processing output...
[Client]: new outgoing bandwidth for 1: 200 bpp / 15 pps
&lt;It takes some time until server's messages get here&gt;
Processing input...
Processing output...
Processing input...
Processing output...
Processing input...
Processing output...
Processing input...
Processing output...
Processing input...
Processing output...
Processing input...
Processing output...
Processing input...
Processing output...
Processing input...
Processing output...
Processing input...
Processing output...
Processing input...
Processing output...
Processing input...
Processing output...
Processing input...
&lt;A packet containing 8 messages arrived&gt;
Received a string: Hello from Server
Received a string: Hello from Server
Received a string: Hello from Server
Received a string: Hello from Server
Received a string: Hello from Server
Received a string: Hello from Server
Received a string: Hello from Server
Received a string: Hello from Server
Processing output...
Processing input...
Processing output...
Processing input...
Processing output...
Processing input...
Processing output...
Processing input...
&lt;The packet containing the last message arrived&gt;
Received a string: Hello from Server
Processing output...
Processing input...
Processing output...
Processing input...
&lt;CTRL+C&gt;
</pre></div> </td></tr></table>
<hr size="1"><address style="align: right;"><small>
This file is part of the documentation for Zoidcom. Documentation copyright © 2004-2008 by Jörg Rüppel. Generated on Sat Aug 16 15:26:51 2008 for Zoidcom by&nbsp;<a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.6-NO</small></address>
</body>
</html>
